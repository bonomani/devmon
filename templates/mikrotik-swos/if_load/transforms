# Create a human-readable ifc speed
ifBps            	: MATH          : {ifHighSpeed} x 1000000
ifSpeed	         	: SPEED		: {ifBps}
# Get bit speed delta (better to calic delta as soon as possible. We do not privide limite (=counterwrap, but could be better to? 18446744073709551615)
ifInOps          	: DELTA		: {ifHCInOctets}
ifOutOps         	: DELTA		: {ifHCOutOctets}
# Convert our octets delta into bits per second
ifInBps	         	: MATH		: {ifInOps} x 8
ifOutBps         	: MATH		: {ifOutOps} x 8
# Make some easily readable speed variables
ifInSpeed        	: SPEED		: {ifInBps}
ifOutSpeed		: SPEED		: {ifOutBps}
# Now determine our percentage load, based on traffic and ifc speed
ifInLoadNaN		: MATH		: ({ifInBps} / {ifBps}) x 100
ifOutLoadNaN		: MATH		: ({ifOutBps} / {ifBps}) x 100
ifInLoad        	: SWITCH        : {ifInLoadNaN} 'NaN'=0.00,default={ifInLoadNaN}
ifOutLoad       	: SWITCH        : {ifOutLoadNaN} 'NaN'=0.00,default={ifOutLoadNaN}
# Create an alias in a bracketed box, or nothing if alias is blank
ifAliasBox      	: REGSUB        : {ifAlias} /(\S+.*)/ [$1]/
ifIndex         	: INDEX         : {ifDescr}
ifPri           	: REGSUB        : {ifIndex} /(\S+.*)/sprintf('%05s', $1).'-'.{ifDescr}/e

# If the interface is "up(=1)", we can have a load, otherwise mark to apply a "no report (clear)" color
ifInLoadSpeed 	 	: SWITCH        : {ifHighSpeed} '0'=NullSpeed,default={ifInLoad}%
ifOutLoadSpeed  	: SWITCH        : {ifHighSpeed} '0'=NullSpeed,default={ifOutLoad}%

ifInLoadTxt             : SWITCH        : {ifOperStatNum} '1'={ifInLoadSpeed},default=ifDown
ifOutLoadTxt            : SWITCH        : {ifOperStatNum} '1'={ifOutLoadSpeed},default=ifDown


