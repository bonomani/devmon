# Get bit speed delta (so we dont have to provide custom delta limit)
ifInPkts      : MATH    : {ifHCInUcastPkts} + {ifHCInMulticastPkts} + {ifHCInBroadcastPkts}
ifOutPkts     : MATH    : {ifHCOutUcastPkts} + {ifHCOutMulticastPkts} + {ifHCOutBroadcastPkts}

# Do delta transform on all counters
ifInPps        	: DELTA         : {ifInPkts}
ifOutPps       	: DELTA         : {ifOutPkts}
ifInErrPps	: DELTA		: {ifInErrors}
ifOutErrPps	: DELTA		: {ifOutErrors}
# Perform percentage calculations
ifInErrTrafNaN	: MATH		: ({ifInErrPps} / {ifInPps}) x 100
ifOutErrTrafNaN	: MATH		: ({ifOutErrPps} / {ifOutPps}) x 100
ifInErrTraf     : SWITCH        : {ifInErrTrafNaN} 'NaN'=0.00,default={ifInErrTrafNaN}
ifOutErrTraf    : SWITCH        : {ifOutErrTrafNaN} 'NaN'=0.00,default={ifOutErrTrafNaN}
# Create an alias in a bracketed box, or nothing if alias is blank
ifAliasBox      : REGSUB        : {ifAlias} /(\S+.*)/ [$1]/
ifIndex         : INDEX         : {ifDescr}
ifPri           : REGSUB        : {ifIndex} /(\S+.*)/sprintf('%05s', $1).'-'.{ifDescr}/e

# If the interface is "up(=1)", we can have a load, otherwise mark to apply a "no report (clear)" color
ifInErrTrafTxt   : SWITCH        : {ifOperStatNum} '1'={ifInErrTraf}%,default=ifDown
ifOutErrTrafTxt  : SWITCH        : {ifOperStatNum} '1'={ifOutErrTraf}%,default=ifDown
